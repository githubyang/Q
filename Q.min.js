!function(window){({config:{auto:!0,coreLib:[],model:{}},selector:null,Reg:{},uid:0,count:0,map:{},rmap:{},jsReference:{},reference:{},cssArr:{},loaded:{},loadList:{},cacheData:{},uuid:null,expando:null,version:"1.0.0",attribute:["class","id","style","title"],class2type:{},toString:Object.prototype.toString,hasOwn:Object.prototype.hasOwnProperty,init:function(){var that=this;this.uuid=0,this.expando="Q"+(Math.random()+"").slice(-8),function(){var jsObj=function(a){var files=a.getElementsByTagName("script"),n=parseInt(files.length-1,10);return that.jsReference[0]=files[n],files[n]}(document);that.reference[0]=document.body.firstChild,function(a){var obj=a,initAuto=obj.getAttribute("auto"),initCore=obj.getAttribute("core");initAuto&&(that.config.auto="false"===initAuto.toLowerCase()?!1:!0),initCore&&(that.config.coreLib=initCore.split(","))}(jsObj||{})}(),document.getElementsByClassName&&(that.selector=1),window.Q=function(){return that.method()}()},getMod:function(e){var mod,model=this.config.model;return mod="string"==typeof e?model[e]?model[e]:{path:e}:e},load:function(path,type,charset,fn){var node,t,that=this,done=function(){that.loaded[path]=1,fn()};"string"==typeof path?t=type||path.toLowerCase().split(/\./).pop().replace(/[\?#].*/,""):(path=path.join(""),t=type||path.toLowerCase().split(/\./).pop().replace(/[\?#].*/,"")),"js"===t?(node=document.createElement("script"),node.setAttribute("src",path),node.setAttribute("async",!0)):"css"===t&&(node=document.createElement("link"),node.setAttribute("href",path),node.setAttribute("type","text/css"),node.setAttribute("rel","stylesheet")),charset&&(node.charset=charset),node.onerror=function(){done(),node.onerror=null},node.onload=node.onreadystatechange=function(){this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(done(),node.onload=node.onreadystatechange=null)},that.jsReference[0].parentNode.insertBefore(node,that.jsReference[0])},check:function(deps,cb){var name=deps.join(""),mod=this.getMod(name),that=this,callback=(mod.path,function(){that.loadList[name]=1,cb()});mod.requires?this.check(mod.requires,function(m){return function(){that.load(m.path,m.type,m.charset,callback)}}(mod)):this.load(mod.path,mod.type,mod.charset,callback)},indexOf:Array.prototype.indexOf||function(obj){for(var i=0,len=this.length;len>i;++i)if(this[i]===obj)return i;return-1},release:function(res,list){for(var maps=this.map,fire=(this.rmap,function(callback,thisObj){setTimeout(function(){callback.call(thisObj)},0)}),i=0,len=list.length;len>i;++i){var uid=list[i],mapItem=maps[uid],waiting=mapItem.waiting,pos=this.indexOf.call(waiting,res);waiting.splice(pos,1),0===waiting.length&&(fire(mapItem.callback,mapItem.thisObj),delete maps[uid])}},classArray:function(dom){var toArray=function(s){try{return Array.prototype.slice.call(s)}catch(e){for(var arr=[],i=0,len=s.length;len>i;i++)arr[i]=s[i];return arr}},arr=toArray(dom);for(var i in Q)arr[i]=Q[i];return arr},isFunction:function(obj){return"function"===this.type(obj)},isArray:Array.isArray||function(obj){return"array"===this.type(obj)},isWindow:function(obj){return obj&&"object"==typeof obj&&"setInterval"in obj},isNaN:function(obj){var rdigit=/\d/;return null===obj||!rdigit.test(obj)||isNaN(obj)},type:function(obj){return null===obj?String(obj):this.class2type[this.toString.call(obj)]||"object"},each:function(object,callback,args){var name,i=0,length=object.length,isObj=void 0===length||this.isFunction(object);if(args)if(isObj){for(name in object)if(callback.apply(object[name],args)===!1)break}else for(;length>i&&callback.apply(object[i++],args)!==!1;);else if(isObj){for(name in object)if(callback.call(object[name],name,object[name])===!1)break}else for(;length>i&&callback.call(object[i],i,object[i++])!==!1;);return object},trim:function(text){return null===text?"":text.toString().replace(/^\s+/,"").replace(/\s+$/,"")},data:function(elem,key,value){var index=elem===window?0:9===elem.nodeType?1:elem[this.expando]?elem[this.expando]:elem[this.expando]=++this.uuid,pointer=this.cacheData[index]?this.cacheData[index]:this.cacheData[index]={};return void 0!==value&&(pointer[key]=value),pointer[key]},removeData:function(elem,key){var index=elem===window?0:9===elem.nodeType?1:elem[this.expando],isEmptyObject=function(obj){var name;for(name in obj)return!1;return!0},deleteData=function(elem){if(!(1>index))try{delete elem[this.expando]}catch(e){elem.removeAttribute(this.expando)}};void 0!==index&&(key?(delete this.cacheData[index][key],isEmptyObject(this.cacheData[index])&&deleteData(elem)):deleteData(elem))},addEvent:function(elem,type,handler){elem["on"+type]=handler},removeEvent:function(elem,type){elem["on"+type]=null,this.removeData(elem,type)},fixEvent:function(e){if(e.target)return e;var name,event={};event.target=e.srcElement||document,event.preventDefault=function(){e.returnValue=!1},event.stopPropagation=function(){e.cancelBubble=!0};for(name in e)event[name]=e[name];if(event.pageX!==!0&&null!==event.clientX){var doc=document.documentElement,body=document.body;event.pageX=event.clientX+(doc&&doc.scrollLeft||body&&body.scrollLeft||0)-(doc&&doc.clientLeft||body&&body.clientLeft||0),event.pageY=event.clientY+(doc&&doc.scrollTop||body&&body.scrollTop||0)-(doc&&doc.clientTop||body&&body.clientTop||0)}return event},handler:function(elem){var that=this;return function(event){event=that.fixEvent(event||window.event);for(var handler,type=event.type,i=0,events=that.data(elem,type),len=events.length;len>i;i++)handler=events[i],handler.call(elem,event)===!1&&(event.preventDefault(),event.stopPropagation())}},initReady:function(fn){document.addEventListener?document.addEventListener("DOMContentLoaded",function(){document.removeEventListener("DOMContentLoaded",arguments.callee,!1),fn()},!1):document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&(document.detachEvent("onreadystatechange",arguments.callee),fn())})},className:function(){var a,b,n,reg,args=Array.prototype.slice.call(arguments),arr=[],i=0,tag=args[1]||"*";if(args!==!1){if(this.selector){for(a=document.getElementsByClassName(args[0]),n=a.length;n>i;i++)arr.push(a[i]);return arr}for(classNmae=args[0].replace("-","\\-"),reg=new RegExp("(^|\\s)"+classNmae+"(\\s|$)"),a=document.getElementsByTagName(tag),n=a.length;n>i;i++)b=a[i],reg.test(b.className)&&arr.push(b);return arr}},attriubte:function(){var reg;this.Reg.reg?reg=this.Reg.reg:(reg=/([\*a-zA-Z1-6]*)?(\[(\w+)\s*(\^|\$|\*|\||~|!)?=?\s*([\w\u00C0-\uFFFF\s\-_\.]+)?\])?/,this.Reg.reg=reg);var attr,i,n,value,node=arguments[1]||document,search=arguments[0],str=search.match(reg),tag=str[1],key=str[3],type=str[4]+"=",val=str[5],arr=[],elem=node.getElementsByTagName(tag),len=elem.length;if(document.querySelectorAll&&"!="!=type){for(value=document.querySelectorAll(search),i=0,length=value.length;length>i;i++)arr.push(value[i]);return arr}for(i=0;len>i;i++)if(attr=elem[i],value=attr[key],"string"==typeof value&&value!==!1){var where=!1;"*="===type?where=value.indexOf(val)>=0?!0:!1:"!="===type?where=value!=val?!0:!1:"^="===type?where=0===value.indexOf(val)?!0:!1:"$="===type?(n=val.length,where=value.slice(-n)===val?!0:!1):"~="===type?where=(""+value).indexOf(val)>=0?!0:!1:"|="===type?where=value===val||value.slice(0,val.length+1)===val+"-"?!0:!1:"="===type&&(where=value===val?!0:!1),where&&arr.push(attr)}return arr},insert:function(elem,value,check){var fragment=document.createDocumentFragment(),str=this.parseTag(value,fragment);"append"===check?elem.appendChild(str):"prepend"===check?elem.insertBefore(str,elem.firstChild):"before"===check?elem.parentNode.insertBefore(str,elem):"after"===check&&elem.parentNode.insertBefore(str,elem.nextSibling)},parseTag:function(value,fragment){var node,div=document.createElement("div"),regTag=/^<(\w+)\s*\/?>$/,regTags=/<\s*([\w\:]+)/;if(regTag.test(value)===!0)return document.createElement(RegExp.$1);if(regTags.test(value)===!0){for(div.innerHTML=value;node=div.firstChild;)fragment.appendChild(node);return fragment}return node=document.createTextNode(value),fragment.appendChild(node),fragment},getStyle:function(elem,style){var isQuirk=document.documentMode?5==document.documentMode?!0:!1:"CSS1Compat"==document.compatMode?!1:!0,toHump=function(value){return value.replace(/\-(\w)/g,function(a,value){return value.toUpperCase()})},getIEopacity=function(elem){var filter;if(filter=elem.style.filter.match(window.XDomainRequest?/progid:DXImageTransform.Microsoft.Alpha\(.?opacity=(.*).?\)/i:/alpha\(opacity=(.*)\)/i)){var value=parseFloat(filter[1]);if(!isNaN(value))return value?value/100:0}return 1};if(document.recalc){if("opacity"==style)return getIEopacity(elem);var value=elem.currentStyle[toHump(style)];if(/^(height|width)$/.test(style)){var values="width"==style?["left","right"]:["top","bottom"];if(isQuirk)return elem[toHump("offset-"+style)];var client=parseFloat(elem[toHump("client-"+style)]),paddingA=parseFloat(this.getStyle.call(null,elem,"padding-"+values[0])),paddingB=parseFloat(this.getStyle.call(null,elem,"padding-"+values[1]));return client-paddingA-paddingB}return value}return"float"===style&&(style=Float),document.defaultView.getComputedStyle(elem,null).getPropertyValue(style)},method:function(){var that=this;return{run:function(){var fn,id,args=[].slice.call(arguments),len=parseInt(args.length,10);return that.uid++,that.config.auto&&that.loadList[that.config.coreLib.join("")]!==!0&&that.uid>1!=!0?(that.check(that.config.coreLib,function(){Q.run.apply(that,args)}),Q):len>0&&1===that.loadList[args[0]]!=!0?("function"==typeof args[len-1]&&(fn=args.pop()),id=args.join(""),(0===args.length||that.loadList[id])&&fn?(fn(),Q):(that.check(args,function(){that.loadList[id]=1,fn&&fn()}),Q)):Q},set:function(m){if(m)for(var a in m)that.config.model[a]=m[a];return Q},inCss:function(a,s){var css=document.getElementById("addCss");return css||(css=document.createElement("style"),css.type="text/css",css.id="addCss",that.reference[0].parentNode.insertBefore(css,that.reference[0])),that.cssArr[0]===a!=!0&&(that.cssArr[0]=a,css.styleSheet?css.styleSheet.cssText=css.styleSheet.cssText+s:css.appendChild(document.createTextNode(s))),Q},add:function(name,obj){return name&&obj&&obj.path?(that.config.model[name]=obj,Q):void 0},when:function(resources,callback,thisObj){var maps=that.map,rmaps=that.rmap;"string"==typeof resources&&(resources=[resources]);var id=(that.count++).toString(16);maps[id]={waiting:resources.slice(0),callback:callback,thisObj:thisObj||window};for(var i=0,len=resources.length;len>i;++i){var res=resources[i],list=rmaps[res]||(rmaps[res]=[]);list.push(id)}return Q},trigger:function(resources){if(!resources)return Q;var rmaps=(that.map,that.rmap);"string"==typeof resources&&(resources=[resources]);for(var i=0,len=resources.length;len>i;++i){var res=resources[i];"undefined"!=typeof rmaps[res]&&(that.release(res,rmaps[res]),delete rmaps[res])}return Q},$:function(selector){var elem;return"object"==typeof selector||1===selector.nodeType||9===selector.nodeType?(selector==document&&(selector=document.body),that.classArray([selector])):0===String(selector).indexOf("#")?(elem=document.getElementById(selector.replace("#","")),that.classArray([elem])):0===String(selector).indexOf(".")?(elem=that.className(selector.replace(".","")),that.classArray(elem)):(elem=that.attriubte(selector),that.classArray(elem))},bind:function(type,handler){var elem=this[0],events=that.data(elem,type)||that.data(elem,type,[]);if(events.push(handler),1===events.length){var handlers=that.handler(elem);that.addEvent(elem,type,handlers)}},unbind:function(type){var elem=this[0],events=that.data(elem,type);void 0!==events&&that.removeEvent(elem,type)},ready:function(fn){that.initReady(fn)},remove:function(elem){var delNode=function(a){var d,elem=a;document.recalc?"body"!=(elem[0]&&elem[0].tagName)&&(d=document.createElement("div"),d.appendChild(elem[0]),d.innerHTML=""):"body"!=(elem[0]&&elem[0].parentNode&&elem[0].tagName)&&elem[0].parentNode.removeChild(elem[0])};delNode(elem?elem:this)},addClass:function(value){var temp,setCss,str=value.split(" "),len=str.length,i=0;if(1===this[0].nodeType){if(this[0].className){if(temp=" "+this[0].className+" ",setCss=this[0].className,len>0)for(;len>i;i++)temp.indexOf(" "+str[i]+" ")<0&&(setCss+=" "+str[i]);else setCss+=" "+value;this[0].className=that.trim(setCss)}else this[0].className=value;return this}},removeClass:function(value){if(void 0!==value){var str=this[0].className;if(str){var n,s,temp,arr=that.trim(str.replace(/\s{2,}/," ")).split(" "),len=arr.length,i=0;if(len>1){for(;len>i;i++)n=that.indexOf.call(arr,arr[i]),-1!=n&&arr.splice(n,1);s=arr.join(" "),this[0].className=that.trim(s)}else temp=that.trim(value),n=that.indexOf.call(arr,temp),-1!=n&&(this[0].className="")}}else this[0].className="";return this},attr:function(name,value){if(void 0!==value)return this[0].setAttribute(name,value),this;var b,a=that.indexOf.call(that.attribute,name);return-1===a?(b=this[0].getAttribute(name)||this[0].attributes[name],b||(b=this[0].getAttributeNode(name)?this[0].getAttributeNode(name).value:""),b):b=name&&"class"==name&&this[0].className?this[0].className:this[0][name]},append:function(value){void 0!==value&&that.insert(this[0],value,"append")},prepend:function(value){void 0!==value&&that.insert(this[0],value,"prepend")},before:function(value){void 0!==value&&that.insert(this[0],value,"before")},after:function(value){void 0!==value&&that.insert(this[0],value,"after")},html:function(value){return void 0===value?this[0].innerHTML:(this[0].innerHTML=value,this)},val:function(value){return void 0===value?this[0].textContent?this[0].textContent:this[0].innerText:this[0].value},css:function(value){return void 0!==value?that.getStyle(this[0],value):void 0},each:function(callback,args){return that.each(this,callback,args)}}}}).init()}(window);